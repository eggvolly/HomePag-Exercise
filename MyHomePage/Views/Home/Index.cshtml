@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>MyHomePage</h1>
    <p class="lead">Welcome to My Home Page.</p>
</div>

<div class="row">
    <div class="col-md-9 col-sm-12">
        <div class="row">
            <div id="carousel-example" class="carousel slide" data-interval="2000" data-ride="carousel" style="margin-bottom:10px">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#carousel-example" data-slide-to="0" class="active"></li>
                    <li data-target="#carousel-example" data-slide-to="1"></li>
                    <li data-target="#carousel-example" data-slide-to="2"></li>
                </ol>
                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="~/Images/nature_1.1.jpg" class="img-responsive" alt="...">
                    </div>
                    <div class="item">
                        <img src="~/Images/nature_2.1.jpg" class="img-responsive" alt="...">
                    </div>
                    <div class="item">
                        <img src="~/Images/nature_3.jpg" class="img-responsive" alt="...">
                    </div>
                </div>
                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-example" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#carousel-example" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div class="row">
            <h2 class="col-md-12">時事新聞</h2>
        </div>
        <div class="row">
            <div id="newspanel" class="col-md-12"></div>
        </div>
    </div>
    <div  class="col-md-3 hidden-xs hidden-sm"  >
        <div data-spy="affix" data-offset-top="10px">
            <a href="@Url.Action("AddNews","Home")"><img src="~/Images/icon_newspaper.png" title="我有新消息" class="img-responsive" style="cursor:pointer" /></a>
        </div>  
    </div>
</div>

@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            GetList();
            $('#carousel-example-generic').carousel('cycle', interval = 300);
        })

        function GetList() {
            $.ajax({
                type: 'GET',
                url: '@Url.Action("NewsList", "Home")',
                cache: false,
                success: function (resultHTML) {
                    $('#newspanel').html(resultHTML);
                },
                error: function () {

                }
            })
        }
    </script>
}
